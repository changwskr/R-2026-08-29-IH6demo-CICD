General

설명
PC에서 GIT 으로 COMMIT

JENKINS는 GIT COMMIT TRIGGER로 인해 GIT PULL, MVN PACKAGE 작업진행
(여기서는 직접 war파일을 inner-tomcat에 배포하지 않는다)

JENKINS는 hello.war 파일을 SSH를 통해서 ansible Server로 SSH Transfer

JENKINS는 리모트쉘로 ansible Server에게 ansible-play book을 exec shell 실행
Plain text
미리보기

GitHub project

Throttle builds
?

오래된 빌드 삭제
?

이 빌드는 매개변수가 있습니다
?

필요한 경우 concurrent 빌드 실행
?
고급
소스 코드 관리
None
Git
?
Repositories
?
Repository URL
?
https://github.com/changwskr/cicd-web-project-main.git
Credentials
?

- none -
고급

Add Repository
Branches to build
?
Branch Specifier (blank for 'any')
?
*/main

Add Branch
Repository browser
?

(자동)
Additional Behaviours
Add
빌드 유발

Build whenever a SNAPSHOT dependency is built
?

Schedule build when some upstream has no successful builds
?

빌드를 원격으로 유발 (예: 스크립트 사용)
?

Build after other projects are built
?

Build periodically
?

GitHub hook trigger for GITScm polling
?

Poll SCM
?
Schedule
?
* * * * *
Do you really mean "every minute" when you say "* * * * *"? Perhaps you meant "H * * * *" to poll once per hour
Would last have run at Sunday, September 1, 2024 at 6:57:58 AM Coordinated Universal Time; would next run at Sunday, September 1, 2024 at 6:57:58 AM Coordinated Universal Time.

Ignore post-commit hooks
?
빌드 환경

Delete workspace before build starts

Use secret text(s) or file(s)
?

Provide Configuration files
?

Send files or execute commands over SSH before the build starts
?

Send files or execute commands over SSH after the build runs
?

Add timestamps to the Console Output

Inspect build log for published build scans

Terminate a build if it's stuck

With Ant
?
Pre Steps
Add pre-build step
Build
Root POM
?
pom.xml
Goals and options
?
clean compile package
고급
Post Steps
Run only if build succeeds

Run only if build succeeds or is unstable

Run regardless of build result
Should the post-build steps run only for successful builds, etc.
Add post-build step
Build Settings

E-mail Notification
빌드 후 조치
Send build artifacts over SSH
?

SSH Publishers
SSH Server
Name
?

ansible-server
고급
Transfers
Transfer Set
Source files
?
target/*.war
Remove prefix
?
target
Remote directory
?
.
Exec command
?
echo "------------------------------------------------------------------------" > roian-cicd-time.chk;
date >> roian-cicd-time.chk;

echo "■ ansible-playbook first-playbook.yml" >> roian-cicd-time.chk;
ansible-playbook -i /etc/ansible/hosts  create-cicd-project-image-playbook.yml --limit 172.17.0.4 >> roian-cicd-time.chk;
ansible-playbook -i /etc/ansible/hosts create-cicd-devops-container-playbook.yml --limit 172.17.0.3 >> roian-cicd-time.chk;


date >> roian-cicd-time.chk;
echo "end" >> roian-cicd-time.chk;

All of the transfer fields (except for Exec timeout) support substitution of Jenkins environment variables
고급
Add Transfer Set
Add Server
고급
빌드 후 조치 추가
저장
Apply